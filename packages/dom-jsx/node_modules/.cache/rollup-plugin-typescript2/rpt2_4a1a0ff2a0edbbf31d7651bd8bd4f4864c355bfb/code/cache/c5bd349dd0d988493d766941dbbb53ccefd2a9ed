{"code":"import { forEach, ifElse, match } from \"dom-dsl\";\r\nimport { runEffect } from \"atom\";\r\nimport { frag } from \"dom-dsl\";\r\nimport { createFragment } from \"dom\";\r\nimport { notNullOrUndefined } from \"shared\";\r\nexport const Supply = (props) => {\r\n    const node = frag();\r\n    const ref = runEffect(() => {\r\n        node.setChildren([props.getChild()]);\r\n    });\r\n    node.registerOnMountHook(() => ref.activate());\r\n    node.registerOnUnmountHook(() => ref.deactivate());\r\n    return node;\r\n};\r\nexport const For = (props) => {\r\n    return forEach(props);\r\n};\r\nexport const If = (props) => {\r\n    return ifElse({\r\n        condition: props.condition,\r\n        ifTrue: props.true,\r\n        ifFalse: props.false,\r\n    });\r\n};\r\nexport const Switch = (props) => {\r\n    const caseMatchMap = new Map(props.cases);\r\n    return match({\r\n        state: props.value,\r\n        render: (value) => {\r\n            const result = caseMatchMap.get(value) ?? props.default ?? (() => createFragment([]));\r\n            return result();\r\n        },\r\n    });\r\n};\r\nexport const Suspense = (props, ...children) => {\r\n    const anchor = frag();\r\n    if (notNullOrUndefined(props.default)) {\r\n        anchor.setChildren([props.default]);\r\n    }\r\n    Promise.all(children).then((syncChildren) => {\r\n        anchor.setChildren(syncChildren);\r\n    });\r\n    return anchor;\r\n};\r\n//# sourceMappingURL=control.js.map","references":["/Users/eric.rodriguez/personal/dev/recoil/node_modules/dom-dsl/lib/index.ts","/Users/eric.rodriguez/personal/dev/recoil/packages/dom-jsx/node_modules/atom/lib/index.ts","/Users/eric.rodriguez/personal/dev/recoil/node_modules/dom-dsl/lib/index.ts","/Users/eric.rodriguez/personal/dev/recoil/packages/dom-jsx/node_modules/dom/lib/index.ts","/Users/eric.rodriguez/personal/dev/recoil/packages/dom-jsx/lib/jsx.ts","/Users/eric.rodriguez/personal/dev/recoil/packages/dom-jsx/node_modules/shared/lib/index.ts","/Users/eric.rodriguez/personal/dev/recoil/packages/dom-jsx/node_modules/shared/lib/index.ts"],"map":"{\"version\":3,\"file\":\"control.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../lib/control.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,EAAe,KAAK,EAAE,MAAM,SAAS,CAAC;AAC9D,OAAO,EAAiB,SAAS,EAAE,MAAM,MAAM,CAAC;AAChD,OAAO,EAAE,IAAI,EAAM,MAAM,SAAS,CAAC;AACnC,OAAO,EAAE,cAAc,EAAmB,MAAM,KAAK,CAAC;AAGtD,OAAO,EAAE,kBAAkB,EAAE,MAAM,QAAQ,CAAC;AAM5C,MAAM,CAAC,MAAM,MAAM,GAA4C,CAC7D,KAAkB,EACL,EAAE;IACf,MAAM,IAAI,GAAG,IAAI,EAAE,CAAC;IAEpB,MAAM,GAAG,GAAG,SAAS,CAAC,GAAS,EAAE;QAC/B,IAAI,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,mBAAmB,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;IAC/C,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC;IAEnD,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAOF,MAAM,CAAC,MAAM,GAAG,GAAG,CAAmB,KAAkB,EAAe,EAAE;IACvE,OAAO,OAAO,CAAI,KAAK,CAAC,CAAC;AAC3B,CAAC,CAAC;AAQF,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,KAAc,EAAe,EAAE;IAChD,OAAO,MAAM,CAAC;QACZ,SAAS,EAAE,KAAK,CAAC,SAAS;QAC1B,MAAM,EAAE,KAAK,CAAC,IAAI;QAClB,OAAO,EAAE,KAAK,CAAC,KAAK;KACrB,CAAC,CAAC;AACL,CAAC,CAAC;AAQF,MAAM,CAAC,MAAM,MAAM,GAAG,CACpB,KAAqB,EACR,EAAE;IACf,MAAM,YAAY,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IAC1C,OAAO,KAAK,CAAC;QACX,KAAK,EAAE,KAAK,CAAC,KAAK;QAClB,MAAM,EAAE,CAAC,KAAQ,EAAE,EAAE;YACnB,MAAM,MAAM,GACV,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC;YACzE,OAAO,MAAM,EAAE,CAAC;QAClB,CAAC;KACF,CAAC,CAAC;AACL,CAAC,CAAC;AAMF,MAAM,CAAC,MAAM,QAAQ,GAAG,CACtB,KAAoB,EACpB,GAAG,QAAgC,EACtB,EAAE;IACf,MAAM,MAAM,GAAG,IAAI,EAAE,CAAC;IAEtB,IAAI,kBAAkB,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;QACrC,MAAM,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;KACrC;IAED,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,YAA2B,EAAE,EAAE;QACzD,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;IACnC,CAAC,CAAC,CAAC;IAEH,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC\"}","dtsmap":{"name":"/Users/eric.rodriguez/personal/dev/recoil/packages/dom-jsx/node_modules/.cache/rollup-plugin-typescript2/placeholder/packages/dom-jsx/lib/control.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"control.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../lib/control.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAmB,WAAW,EAAS,MAAM,SAAS,CAAC;AAC9D,OAAO,EAAE,KAAK,EAAqB,MAAM,MAAM,CAAC;AAEhD,OAAO,EAA4B,KAAK,EAAE,MAAM,KAAK,CAAC;AACtD,OAAO,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAClC,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,QAAQ,CAAC;AAGtD,oBAAY,WAAW,GAAG;IACxB,QAAQ,EAAE,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;CACjC,CAAC;AAEF,eAAO,MAAM,MAAM,EAAE,SAAS,CAAC,WAAW,EAAE,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,CAY1D,CAAC;AAEF,oBAAY,QAAQ,CAAC,CAAC,IAAI;IACxB,KAAK,EAAE,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAClC,MAAM,EAAE,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;CAClC,CAAC;AAEF,eAAO,MAAM,GAAG,4CAA2C,MAAM,IAAI,CAEpE,CAAC;AAEF,oBAAY,OAAO,GAAG;IACpB,SAAS,EAAE,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;IACpC,IAAI,EAAE,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5B,KAAK,CAAC,EAAE,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;CAC/B,CAAC;AAEF,eAAO,MAAM,EAAE,UAAW,OAAO,KAAG,MAAM,IAAI,CAM7C,CAAC;AAEF,oBAAY,WAAW,CAAC,CAAC,IAAI;IAC3B,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;IAChB,KAAK,EAAE,CAAC,CAAC,EAAE,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;IACpC,OAAO,CAAC,EAAE,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;CACjC,CAAC;AAEF,eAAO,MAAM,MAAM,+CAEhB,MAAM,IAAI,CAUZ,CAAC;AAEF,oBAAY,aAAa,GAAG;IAC1B,OAAO,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;CACvB,CAAC;AAEF,eAAO,MAAM,QAAQ,UACZ,aAAa,eACP,QAAQ,MAAM,IAAI,CAAC,CAAC,EAAE,KAClC,MAAM,IAAI,CAYZ,CAAC\"}"},"dts":{"name":"/Users/eric.rodriguez/personal/dev/recoil/packages/dom-jsx/node_modules/.cache/rollup-plugin-typescript2/placeholder/packages/dom-jsx/lib/control.d.ts","writeByteOrderMark":false,"text":"import { IndexedItem } from \"dom-dsl\";\r\nimport { IAtom } from \"atom\";\r\nimport { WNode } from \"dom\";\r\nimport { Component } from \"./jsx\";\r\nimport { Producer, Supplier, Function } from \"shared\";\r\nexport declare type SupplyProps = {\r\n    getChild: Producer<WNode<Node>>;\r\n};\r\nexport declare const Supply: Component<SupplyProps, [], WNode<Node>>;\r\nexport declare type ForProps<T> = {\r\n    items: Supplier<IndexedItem<T>[]>;\r\n    render: Function<T, WNode<Node>>;\r\n};\r\nexport declare const For: <T extends Object>(props: ForProps<T>) => WNode<Node>;\r\nexport declare type IfProps = {\r\n    condition: boolean | IAtom<boolean>;\r\n    true: Supplier<WNode<Node>>;\r\n    false?: Supplier<WNode<Node>>;\r\n};\r\nexport declare const If: (props: IfProps) => WNode<Node>;\r\nexport declare type SwitchProps<T> = {\r\n    value: IAtom<T>;\r\n    cases: [T, Supplier<WNode<Node>>][];\r\n    default?: Supplier<WNode<Node>>;\r\n};\r\nexport declare const Switch: <T extends Object>(props: SwitchProps<T>) => WNode<Node>;\r\nexport declare type SuspenseProps = {\r\n    default?: WNode<Node>;\r\n};\r\nexport declare const Suspense: (props: SuspenseProps, ...children: Promise<WNode<Node>>[]) => WNode<Node>;\r\n//# sourceMappingURL=control.d.ts.map"}}
