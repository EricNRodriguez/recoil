{"code":"import { runEffect } from \"atom\";\r\nimport { createFragment } from \"dom\";\r\nimport { WDerivationCache } from \"shared\";\r\nexport const match = (props) => {\r\n    let { state, render } = props;\r\n    const anchor = createFragment([]);\r\n    const matchCache = new WDerivationCache(render);\r\n    let prevState;\r\n    const ref = runEffect(() => {\r\n        if (prevState === state.get()) {\r\n            return;\r\n        }\r\n        prevState = state.get();\r\n        const content = matchCache.get(prevState);\r\n        anchor.setChildren([content]);\r\n    });\r\n    anchor.registerOnMountHook(() => ref.activate());\r\n    anchor.registerOnUnmountHook(() => ref.deactivate());\r\n    return anchor;\r\n};\r\n//# sourceMappingURL=match.js.map","references":["/Users/eric.rodriguez/personal/dev/recoil/packages/atom/lib/index.ts","/Users/eric.rodriguez/personal/dev/recoil/packages/dom/lib/index.ts","/Users/eric.rodriguez/personal/dev/recoil/packages/shared/lib/index.ts"],"map":"{\"version\":3,\"file\":\"match.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../lib/control/match.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAS,SAAS,EAAE,MAAM,MAAM,CAAC;AACxC,OAAO,EAAS,cAAc,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,gBAAgB,EAAW,MAAM,QAAQ,CAAA;AAOlD,MAAM,CAAC,MAAM,KAAK,GAAG,CAAmB,KAAoB,EAAe,EAAE;IAC3E,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,KAAK,CAAC;IAE9B,MAAM,MAAM,GAAG,cAAc,CAAC,EAAE,CAAC,CAAC;IAClC,MAAM,UAAU,GAAqC,IAAI,gBAAgB,CACvE,MAAM,CACP,CAAC;IAEF,IAAI,SAAY,CAAC;IACjB,MAAM,GAAG,GAAG,SAAS,CAAC,GAAS,EAAE;QAC/B,IAAI,SAAS,KAAK,KAAK,CAAC,GAAG,EAAE,EAAE;YAC7B,OAAO;SACR;QAED,SAAS,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;QACxB,MAAM,OAAO,GAAG,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAC1C,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;IACH,MAAM,CAAC,mBAAmB,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;IACjD,MAAM,CAAC,qBAAqB,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC;IAErD,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC\"}","dtsmap":{"name":"/Users/eric.rodriguez/personal/dev/recoil/packages/dom-dsl/node_modules/.cache/rollup-plugin-typescript2/placeholder/dom-dsl/lib/control/match.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"match.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../lib/control/match.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,KAAK,EAAa,MAAM,MAAM,CAAC;AACxC,OAAO,EAAE,KAAK,EAAkB,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAoB,QAAQ,EAAC,MAAM,QAAQ,CAAA;AAElD,oBAAY,UAAU,CAAC,CAAC,IAAI;IAC1B,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;IAChB,MAAM,EAAE,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;CAClC,CAAC;AAEF,eAAO,MAAM,KAAK,8CAA6C,MAAM,IAAI,CAsBxE,CAAC\"}"},"dts":{"name":"/Users/eric.rodriguez/personal/dev/recoil/packages/dom-dsl/node_modules/.cache/rollup-plugin-typescript2/placeholder/dom-dsl/lib/control/match.d.ts","writeByteOrderMark":false,"text":"import { IAtom } from \"atom\";\r\nimport { WNode } from \"dom\";\r\nimport { Function } from \"shared\";\r\nexport declare type MatchProps<T> = {\r\n    state: IAtom<T>;\r\n    render: Function<T, WNode<Node>>;\r\n};\r\nexport declare const match: <T extends Object>(props: MatchProps<T>) => WNode<Node>;\r\n//# sourceMappingURL=match.d.ts.map"}}
